
<!doctype html>
<html lang="pt">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Registro Ponto</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/album/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>

  <body>

    <header>
      <div class="navbar navbar-dark bg-dark box-shadow">
        <div class="container d-flex justify-content-between">
          <a href="#" class="navbar-brand d-flex align-items-center">
            <strong>Registro Ponto</strong>
          </a>
        </div>
      </div>
    </header>

    <main role="main">

      <section class="jumbotron text-center">
        <div class="container">
           
            <button class="btn btn-success"  onclick="registra_ponto_mongo();">
                Registra Ponto no MongoDB
            </button>

            <button class="btn btn-danger"  onclick="registra_ponto_redis();">
                Registra Ponto no Redis
            </button>

            <ul class="lista_ponto"></ul>

            <script>
              function registra_ponto_mongo() {
                $.ajax({
                  url: "ponto_mongo",
                  type: "GET",
                  dataType: 'json',
                  success: (data) => {
                    console.log(data)
                    alert(data.response)
                  },
                  error: (err) => {
                    alert(err.response)
                  },
                });
              }

              function registra_ponto_redis() {
                $.ajax({
                  url: "ponto_redis",
                  type: "GET",
                  dataType: 'json',
                  success: (data) => {
                    console.log(data)
                    $('#lista_ponto').append(`<li class="list-group-item">${data.response}</li>`)
                  },
                  error: (err) => {
                    alert(err.response)
                  },
                });
              }
            </script>
          </p>
        </div>
      </section>

    </main>

    <footer class="text-muted">
      <div class="container">
        <p class="float-right">
        </p>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script> -->
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    
    <!-- <script src="../../assets/js/vendor/popper.min.js"></script> -->
    <!-- Latest compiled and minified JavaScript -->
    <!-- <script src="../../assets/js/vendor/holder.min.js"></script> -->
  </body>
</html>
